(this.webpackJsonpjbook=this.webpackJsonpjbook||[]).push([[0],{121:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(5),o=t(51),s=t(46),u=t.n(s),i=t(0),p=t(47),l=t(23),d=t.n(l),f=t(48),h=t.n(f).a.createInstance({name:"fileCache"}),b=function(e){return{name:"fetch-plugin",setup:function(n){n.onLoad({filter:/(^index\.js$)/},(function(){return{loader:"jsx",contents:e}})),n.onLoad({filter:/.*/},function(){var e=Object(c.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getItem(n.path);case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.onLoad({filter:/.css$/},function(){var e=Object(c.a)(a.a.mark((function e(n){var t,r,c,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(n.path);case 2:return t=e.sent,r=t.data,c=t.request,o=r.replace(/\n/g,"").replace(/"/g,'\\"').replace(/'/g,"\\'"),s="\n            const style = document.createElement('style');\n            style.innerText = '".concat(o,"';\n            document.head.appendChild(style);\n          "),u={loader:"jsx",contents:s,resolveDir:new URL("./",c.responseURL).pathname},e.next=10,h.setItem(n.path,u);case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.onLoad({filter:/.*/},function(){var e=Object(c.a)(a.a.mark((function e(n){var t,r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(n.path);case 2:return t=e.sent,r=t.data,c=t.request,o={loader:"jsx",contents:r,resolveDir:new URL("./",c.responseURL).pathname},e.next=8,h.setItem(n.path,o);case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}},v=t(22),j=t.n(v),m=t(49),x=t.n(m),w=t(50),g=t.n(w),O=t(2),k=function(e){var n=e.onChange,t=e.initialValue,r=Object(i.useRef)();return Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){var e,n=null===(e=r.current.getModel())||void 0===e?void 0:e.getValue(),t=x.a.format(n,{parser:"babel",plugins:[g.a],useTabs:!1,semi:!0,singleQuote:!0});r.current.setValue(t)},children:"Format"}),Object(O.jsx)(j.a,{editorDidMount:function(e,t){var a;r.current=t,t.onDidChangeModelContent((function(){n(e())})),null===(a=t.getModel())||void 0===a||a.updateOptions({tabSize:2})},value:t,theme:"dark",language:"javascript",height:"500px",options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!1,folding:!1,lineNumbersMinChars:3,fontSize:16,scrollBeyondLastLine:!1,automaticLayout:!0}})]})},y=function(){var e=Object(i.useRef)(),n=Object(i.useRef)(),t=Object(i.useState)(""),r=Object(o.a)(t,2),s=r[0],u=r[1],l=function(){var n=Object(c.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.startService({worker:!0,wasmURL:"https://unpkg.com/esbuild-wasm@0.8.27/esbuild.wasm"});case 2:e.current=n.sent;case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(i.useEffect)((function(){l()}),[]);var d=function(){var t=Object(c.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return n.current.srcdoc=f,t.next=5,e.current.build({entryPoints:["index.js"],bundle:!0,write:!1,plugins:[{name:"unpkg-path-plugin",setup:function(e){e.onResolve({filter:/(^index\.js$)/},(function(e){return{path:e.path,namespace:"a"}})),e.onResolve({filter:/^\.+\//},(function(e){return{namespace:"a",path:new URL(e.path,"https://unpkg.com"+e.resolveDir+"/").href}})),e.onResolve({filter:/.*/},function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{namespace:"a",path:"https://unpkg.com/".concat(n.path)});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}},b(s)],define:{"process.env.NODE_ENV":'"production"',global:"window"}});case 5:r=t.sent,n.current.contentWindow.postMessage(r.outputFiles[0].text,"*");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f="\n        <html>\n        <head></head>\n        <body>\n            <div id=\"root\"></div>\n            <script>\n                window.addEventListener('message', (event) => {\n                try {\n                  eval(event.data);\n                } catch (err){\n                  const root = document.querySelector(\"#root\");\n                  root.innerHTML = '<div style = \"color: red;\" ><h4>RunTimeError:</h4>'+ err +'</div>';\n                  console.error(err);\n                }\n                }, false);\n            <\/script>\n        </body>\n        </html>\n    ";return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{onChange:function(e){return u(e.target.value)}})}),Object(O.jsx)("button",{onClick:d,children:"Submit"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)(k,{onChange:function(e){return u(e)},initialValue:"const a  = 1;"}),Object(O.jsx)("iframe",{title:"preview",ref:n,sandbox:"allow-scripts",srcDoc:f})]})]})};u.a.render(Object(O.jsx)(y,{}),document.querySelector("#root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.2eb23afc.chunk.js.map